import os
import sys

# add configuration options
Import( '*' )

if platform == "android":
	#already in build enviroment
	leap_options = {}
	have_leap = False
else:

	SConscript ( '#/config/libraryConfig.py' )
	Import('standardLibFinder', 'standardLibConfig')

	opts.Add( 'LEAP_PATH', 'Path to the leap library (only for VRML viewer component)' )
	opts.Add( 'LEAP_INCLUDE', 'Path to the leap headers' )
	opts.Add( 'LEAP_LIBPATH', 'Path to the leap libraries' )
	opts.Add( 'LEAP_LIBS', 'Leap libraries to link against' )

	libName = "leap"

	compileSettings = []
	if sys.platform == 'darwin':
		#[{additional compile settings}, {include files}, {language (C++)},{library to link against (optional)}, {source code (optional)}]
		compileSettings =[ {}, "Leap.h", "C++"]		
	else:
		#if sys.platform != "win32":
			#libname_leap = "leap"
			# prefer freeleap over leap	
		#[{additional compile settings}, {include files}, {language (C++)},{library to link against (optional)}, {source code (optional)}]
		compileSettings =[ {}, "Leap.h", "C++"]		

	libFinder = standardLibFinder(libName,compileSettings)

	configHelper = standardLibConfig(libName, libFinder)

	leap_options = configHelper.getLibraryOptions()
	have_leap = configHelper.haveLib()


# export results
Export( [ 'leap_options', 'have_leap'] )
