<?xml version="1.0" encoding="UTF-8"?>

<UTQLPatternTemplates xmlns='http://ar.in.tum.de/ubitrack/utql'
                      xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
                      xmlns:xi='http://www.w3.org/2001/XInclude'
                      xmlns:h="http://www.w3.org/1999/xhtml"
                      xsi:schemaLocation='http://ar.in.tum.de/ubitrack/utql ../../../schema/utql_templates.xsd'>

  <Pattern name="LeapMotionFingerTracker" displayName="LeapMotionFingerTracker">
    <Description>
      <h:p>This component grabs images from a Highgui device and pushes them.</h:p>
    </Description>
    
    <Output>
      <Node name="LeapMotion" displayName="LeapMotion"/>
      <Node name="Palm"       displayName="Palm"/>
      <Node name="Thumb"       displayName="Thumb"/>
      <Node name="IndexFinger"       displayName="IndexFinger"/>
      <Node name="MiddleFinger"       displayName="MiddleFinger"/>
      <Node name="RingFinger"       displayName="RingFinger"/>
      <Node name="LittleFinger"       displayName="LittleFinger"/>

      <Node name="Palm2"       displayName="Palm2"/>
      <Node name="Thumb2"       displayName="Thumb2"/>
      <Node name="IndexFinger2"       displayName="IndexFinger2"/>
      <Node name="MiddleFinger2"       displayName="MiddleFinger2"/>
      <Node name="RingFinger2"       displayName="RingFinger2"/>
      <Node name="LittleFinger2"       displayName="LittleFinger2"/>
      
      <Edge name="PalmPose"    source="LeapMotion" destination="Palm" displayName="PalmPose">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>
      
      <Edge name="ThumbPose"    source="LeapMotion" destination="Thumb" displayName="ThumbPose">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>
      
      <Edge name="IndexFingerPose"    source="LeapMotion" destination="IndexFinger" displayName="IndexFingerPose">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>

      <Edge name="MiddleFingerPose"    source="LeapMotion" destination="MiddleFinger" displayName="MiddleFingerPose">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>
      
      <Edge name="RingFingerPose"    source="LeapMotion" destination="RingFinger" displayName="RingFingerPose">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>

      <Edge name="LittleFingerPose"    source="LeapMotion" destination="LittleFinger" displayName="LittleFingerPose">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>


      
      
      <Edge name="PalmPose2"    source="LeapMotion" destination="Palm2" displayName="PalmPose2">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>
      
      <Edge name="ThumbPose2"    source="LeapMotion" destination="Thumb2" displayName="ThumbPose2">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>
      
      <Edge name="IndexFingerPose2"    source="LeapMotion" destination="IndexFinger2" displayName="IndexFingerPose2">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>

      <Edge name="MiddleFingerPose2"    source="LeapMotion" destination="MiddleFinger2" displayName="MiddleFingerPose2">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>
      
      <Edge name="RingFingerPose2"    source="LeapMotion" destination="RingFinger2" displayName="RingFingerPose2">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>

      <Edge name="LittleFingerPose2"    source="LeapMotion" destination="LittleFinger2" displayName="LittleFingerPose2">
        <Description>
          <h:p>The palm pose.</h:p>
        </Description>
        <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
        <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
      </Edge>
      
    </Output>

    <DataflowConfiguration>
      <UbitrackLib class="LeapMotionFingerTracker"/>



    </DataflowConfiguration>
  </Pattern>

  <!-- Attribute declarations -->

  <GlobalNodeAttributeDeclarations>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/1/1)"/>
  </GlobalNodeAttributeDeclarations>

  <GlobalEdgeAttributeDeclarations>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/1)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/2)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/3)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/4)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/5)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/6)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/7)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/8)"/>
  </GlobalEdgeAttributeDeclarations>

  <GlobalDataflowAttributeDeclarations>
    <!-- Unfortunately, the xpointer used in Xinclude is currently restricted to the element scheme and absolute element indices in Xerces (and thus XMLBeans) -->
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/3/1)"/>
    <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/3/2)"/>
  </GlobalDataflowAttributeDeclarations>

</UTQLPatternTemplates>

